# 测试设计：7.4 Top‑N 推荐与解释

日期：2025-09-22｜设计者：Quinn

## 场景（总数：10｜单元：4｜集成：6）

AC1：输入：选中的需求指标/条目
| ID           | 层级 | 优先级 | 测试内容                                              |
|--------------|------|--------|-------------------------------------------------------|
| 7.4-INT-001  | 集成 | P0     | 输入校验：缺失/非法/边界（空/极值）                    |
| 7.4-UNIT-001 | 单元 | P1     | 输入标准化与约束检查函数                              |

AC2：输出：Top‑N + 匹配度 + 解释（命中/缺口/权重贡献）
| 7.4-INT-002  | 集成 | P0     | 评分/排序正确；同分二级键稳定                          |
| 7.4-INT-003  | 集成 | P0     | 解释与得分一致（命中/缺口/权重贡献）                   |
| 7.4-UNIT-002 | 单元 | P1     | 评分函数；权重/阈值应用                                |
| 7.4-UNIT-003 | 单元 | P1     | 排序与 Top‑N 选择函数                                  |

AC3：结果可导出；可复现（审计与版本）
| 7.4-INT-004  | 集成 | P0     | 导出结果与页面一致；字段白名单/脱敏                     |
| 7.4-INT-005  | 集成 | P0     | 审计包含规则/样本/输入版本与随机种子                     |
| 7.4-INT-006  | 集成 | P1     | 回放同版本与随机种子 → 结果一致                         |
| 7.4-UNIT-004 | 单元 | P1     | 随机性控制（固定种子）                                  |

```yaml
test_design:
  scenarios_total: 10
  by_level: { unit: 4, integration: 6 }
  by_priority: { p0: 6, p1: 4 }
  coverage_gaps: []
```

