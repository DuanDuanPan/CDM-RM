# 测试设计：故事 1.9 安全基线

日期：2025-09-22｜设计者：Quinn

## 场景

- 场景总数：5｜单元：2｜集成：3

AC1：gitleaks + OSV 扫描

| ID           | 层级 | 优先级 | 测试内容                               |
|--------------|------|--------|----------------------------------------|
| 1.9-INT-001  | 集成 | P0     | CI 运行 gitleaks 并上传报告            |
| 1.9-INT-002  | 集成 | P0     | CI 运行 OSV 扫描并上传报告             |

AC2：dotenv-safe/envalid 环境校验

| ID           | 层级 | 优先级 | 测试内容                               |
|--------------|------|--------|----------------------------------------|
| 1.9-UNIT-001 | 单元 | P0     | 缺少必填项时抛错                       |
| 1.9-UNIT-002 | 单元 | P1     | 类型/格式校验                          |
| 1.9-INT-003  | 集成 | P1     | 启动脚本在 env 缺失时失败              |

```yaml
test_design:
  scenarios_total: 5
  by_level: { unit: 2, integration: 3 }
  by_priority: { p0: 3, p1: 2 }
  coverage_gaps: []
```

