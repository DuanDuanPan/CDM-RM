# NFR 评估：1.1

日期：2025-09-22
评审人：Quinn（测试架构师）

## 摘要

- 安全：CONCERNS（供应链策略/不可变安装/来源可信尚未定稿）
- 性能：CONCERNS（CI 缓存策略与确定性安装未明确）
- 可靠性：CONCERNS（未强制不可变安装 `--immutable`）
- 可维护性：CONCERNS（工作区结构/规范未确认，文档未完成）

## 关键问题

1. 未强制不可变安装
   - 风险：构建漂移、CI 不稳定
   - 修复：本地与 CI 一律使用 `yarn install --immutable`

2. 工作区策略未定
   - 风险：包边界混乱、脚本分散
   - 修复：批准 `apps/*` 与 `packages/*` 布局并记录归属规则

## 快速改进

- 新增 `.yarnrc.yml`，设定 `nodeLinker: node-modules`
- 文档化 `corepack enable` 与 Node 20 策略
- 定义 CI 的 Node/Yarn 缓存

```yaml
# Gate YAML（可粘贴）
nfr_validation:
  _assessed: [security, performance, reliability, maintainability]
  security: { status: CONCERNS, notes: '供应链/锁文件/来源证明策略待定' }
  performance: { status: CONCERNS, notes: 'CI 缓存目标与命中率待定' }
  reliability: { status: CONCERNS, notes: '尚未强制不可变安装' }
  maintainability: { status: CONCERNS, notes: 'Monorepo 结构/标准未批准' }
```

NFR assessment: qa.qaLocation/assessments/1.1-nfr-20250922.md
