# 测试设计：1.2 代码规范与提交检查

日期：2025-09-22｜设计者：Quinn

## 场景（总数：9｜单元：5｜集成：4）

AC1：ESLint 规则（TS/React/Promise/Prettier）；Prettier 单引号/120 列
| ID           | 层级 | 优先级 | 测试内容                                                        |
|--------------|------|--------|-----------------------------------------------------------------|
| 1.2-INT-001  | 集成 | P0     | `yarn lint` 通过；`yarn prettier:check` 在干净仓库通过           |
| 1.2-UNIT-001 | 单元 | P1     | Prettier 配置校验：`singleQuote: true`、`printWidth: 120`        |
| 1.2-UNIT-002 | 单元 | P1     | ESLint 配置覆盖 TS/React/Promise/Prettier 插件与规则            |
| 1.2-UNIT-003 | 单元 | P1     | 典型反例文件：能被 eslint 检出并通过 `--fix` 自动修复            |

AC2：Husky pre-commit：eslint --fix + prettier -w；commitlint 检查 type/scope
| 1.2-INT-002  | 集成 | P0     | 模拟 `git commit`：pre-commit 执行 eslint --fix + prettier -w    |
| 1.2-INT-003  | 集成 | P0     | `commitlint`：错误信息被拒；正确格式通过                        |
| 1.2-UNIT-004 | 单元 | P1     | commitlint 配置包含 type 列表与 scope 规则                      |

AC3：提交信息与 PR 模板就位
| 1.2-INT-004  | 集成 | P0     | PR 模板存在且渲染关键检查项（lint/format/test/coverage）         |
| 1.2-UNIT-005 | 单元 | P1     | 提交消息规范文档存在（CONTRIBUTING 或 README 片段）              |

```yaml
test_design:
  scenarios_total: 9
  by_level: { unit: 5, integration: 4 }
  by_priority: { p0: 5, p1: 4 }
  coverage_gaps: []
```

