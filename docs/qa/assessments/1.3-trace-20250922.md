# 需求—测试追踪矩阵

## 故事：1.3 - 测试基线（Vitest/Jest）

### 覆盖概览

- AC 总数：3
- 完全覆盖：3（100%）
- 部分覆盖：0（0%）
- 未覆盖：0（0%）

### 映射明细

#### AC1：web 使用 Vitest；api 使用 Jest 或 Vitest（二选一）

- 单元测试：`packages/*/sample.test.ts`
  - Given：一个简单纯函数
  - When：在对应测试框架下调用
  - Then：断言通过，验证框架接线

#### AC2：`yarn test:client`/`yarn test:server` 与覆盖率通过

- 单元测试：`apps/*/package.json::scripts`
  - Given：仓库定义测试脚本
  - When：CI 执行 `yarn test:client`/`yarn test:server`
  - Then：退出码为 0，生成覆盖率报告

- 集成测试：`ci/run-tests.yml`
  - Given：CI 使用 Node 20 运行器
  - When：执行最小矩阵
  - Then：产出覆盖率工件

#### AC3：CI 启动最小测试矩阵

- 集成测试：`ci/run-tests.yml`
  - Given：Node 20（可含 OS 矩阵）
  - When：流水线执行
  - Then：测试通过并上传覆盖率

### 关键缺口

- 无（设计计划假设初始冒烟与 CI 接线）

### 测试设计建议

参考：`docs/qa/assessments/1.3-test-design-20250922.md`
